"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[156],{7204:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".dp__theme_light{--dp-primary-color:#3b82f6;--dp-icon-color:#3b82f6}",""]);const o=n},156:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var r=a(821),n={class:"box"},o={class:"box-header"},s=(0,r._)("div",{class:"box-title"},[(0,r._)("h5",null,"Generate DPS/Loan Transaction")],-1),l={class:"box-action"},i=(0,r.Uk)("DPS Transactions"),c=(0,r.Uk)("Loan Transactions"),d={class:"box-body"},p={class:"row"},m={class:"col-md-8 offset-md-2"},u={class:"form-group"},_={class:"row"},f=(0,r._)("div",{class:"col-md-4 text-left"},[(0,r._)("label",{class:"col-form-label"},"Transaction Type")],-1),y={class:"col-md-8"},b={class:"mt-2"},v={class:"mr-4"},g=(0,r._)("span",{class:"ml-1"},"DPS",-1),w=(0,r._)("span",{class:"ml-1"},"Loan",-1),h={key:0,class:"text-danger text-sm"},k={class:"form-group"},x={class:"row"},O=(0,r._)("div",{class:"col-md-4 text-left"},[(0,r._)("label",{class:"col-form-label"},"Application Type")],-1),T={class:"col-md-8"},D={class:"mt-2"},P={class:"mr-4"},j=(0,r._)("span",{class:"ml-1"},"Weekly",-1),S=(0,r._)("span",{class:"ml-1"},"Monthly",-1),V={key:0,class:"text-danger text-sm"},G={class:"form-group"},M={class:"row"},U=(0,r._)("div",{class:"col-md-4 text-left"},[(0,r._)("label",{class:"col-form-label"},"From Date")],-1),L={class:"col-md-8"},z={key:0,class:"text-danger text-sm"},F={class:"form-group"},W={class:"row"},q=(0,r._)("div",{class:"col-md-4 text-left"},[(0,r._)("label",{class:"col-form-label"},"To Date")],-1),C={class:"col-md-8"},Z={key:0,class:"text-danger text-sm"},$={class:"mt-8 text-right"},A={type:"submit",class:"btn btn-primary",id:"generateTransaction"},E=(0,r._)("div",{class:"spinner-border",role:"status"},[(0,r._)("span",{class:"visually-hidden"},"Loading...")],-1),B=(0,r._)("div",{class:"box-footer"},null,-1);var H=a(8637),I=a(9755),J=a.n(I);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){Q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const R={name:"GenerateTransaction",mixins:[a(4118).B],data:function(){return{form:{from_date:"",to_date:"",application_type:"",transaction_type:""},from_date:"",to_date:"",errors:null,error:null}},computed:N({},(0,H.Se)({validation_errors:"validation_errors",error_message:"error_message",application_types:"group/application_types"})),methods:N(N({},(0,H.nv)({getMembers:"member/getMembers",generateTransaction:"transaction/generateTransaction"})),{},{transactionGenerate:function(){var e=this;J()("#generateTransaction").prop("disabled",!0).addClass("submitted");var t=new FormData,a=this.form;Object.keys(a).forEach((function(e){t.append(e,a[e])})),this.generateTransaction(t).then((function(){e.validation_errors||e.error_message?(e.errors=e.validation_errors,e.error=e.error_message):(e.errors=e.error=null,Object.assign(e.$data,e.$options.data.apply(e)),e.$swal({icon:"success",title:"Success!",text:"Transaction has been generated",timer:3e3})),J()("#generateTransaction").prop("disabled",!1).removeClass("submitted")}))}}),watch:{from_date:function(){this.form.from_date=this.datePickerFormat(this.from_date)},to_date:function(){this.form.to_date=this.datePickerFormat(this.to_date)}}};var X=a(2446),Y=a.n(X),ee=a(7204),te={insert:"head",singleton:!1};Y()(ee.Z,te);ee.Z.locals;const ae=(0,a(3744).Z)(R,[["render",function(e,t,a,H,I,J){var K=(0,r.up)("router-link"),N=(0,r.up)("Datepicker");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",o,[s,(0,r._)("div",l,[(0,r.Wm)(K,{to:{name:"DpsTransactionList"},class:"btn btn-primary btn-sm"},{default:(0,r.w5)((function(){return[i]})),_:1}),(0,r.Wm)(K,{to:{name:"LoanTransactionList"},class:"btn btn-primary btn-sm ml-2"},{default:(0,r.w5)((function(){return[c]})),_:1})])]),(0,r._)("div",d,[(0,r._)("form",{onSubmit:t[6]||(t[6]=(0,r.iM)((function(){return J.transactionGenerate&&J.transactionGenerate.apply(J,arguments)}),["prevent"]))},[(0,r._)("div",p,[(0,r._)("div",m,[(0,r._)("div",u,[(0,r._)("div",_,[f,(0,r._)("div",y,[(0,r._)("div",b,[(0,r._)("label",v,[(0,r.wy)((0,r._)("input",{type:"radio",name:"transaction_type",value:"deposit","onUpdate:modelValue":t[0]||(t[0]=function(e){return I.form.transaction_type=e})},null,512),[[r.G2,I.form.transaction_type]]),g]),(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"radio",name:"transaction_type",value:"loan","onUpdate:modelValue":t[1]||(t[1]=function(e){return I.form.transaction_type=e})},null,512),[[r.G2,I.form.transaction_type]]),w])]),I.errors?((0,r.wg)(),(0,r.iD)("span",h,(0,r.zw)(I.errors.transaction_type?I.errors.transaction_type[0]:""),1)):(0,r.kq)("",!0)])])]),(0,r._)("div",k,[(0,r._)("div",x,[O,(0,r._)("div",T,[(0,r._)("div",D,[(0,r._)("label",P,[(0,r.wy)((0,r._)("input",{type:"radio",name:"application_type",value:"weekly","onUpdate:modelValue":t[2]||(t[2]=function(e){return I.form.application_type=e})},null,512),[[r.G2,I.form.application_type]]),j]),(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"radio",name:"application_type",value:"monthly","onUpdate:modelValue":t[3]||(t[3]=function(e){return I.form.application_type=e})},null,512),[[r.G2,I.form.application_type]]),S])]),I.errors?((0,r.wg)(),(0,r.iD)("span",V,(0,r.zw)(I.errors.application_type?I.errors.application_type[0]:""),1)):(0,r.kq)("",!0)])])]),(0,r._)("div",G,[(0,r._)("div",M,[U,(0,r._)("div",L,[(0,r.Wm)(N,{modelValue:I.from_date,"onUpdate:modelValue":t[4]||(t[4]=function(e){return I.from_date=e}),format:"dd-MM-yyyy",enableTimePicker:!1,autoApply:"",placeholder:"Select From Date"},null,8,["modelValue"]),I.errors?((0,r.wg)(),(0,r.iD)("span",z,(0,r.zw)(I.errors.from_date?I.errors.from_date[0]:""),1)):(0,r.kq)("",!0)])])]),(0,r._)("div",F,[(0,r._)("div",W,[q,(0,r._)("div",C,[(0,r.Wm)(N,{modelValue:I.to_date,"onUpdate:modelValue":t[5]||(t[5]=function(e){return I.to_date=e}),format:"dd-MM-yyyy",enableTimePicker:!1,autoApply:"",placeholder:"Select To Date"},null,8,["modelValue"]),I.errors?((0,r.wg)(),(0,r.iD)("span",Z,(0,r.zw)(I.errors.to_date?I.errors.to_date[0]:""),1)):(0,r.kq)("",!0)])])]),(0,r._)("div",$,[(0,r._)("button",A,[(0,r._)("span",null,(0,r.zw)(e.$t("generate")),1),E])])])])],32)]),B])}]])}}]);