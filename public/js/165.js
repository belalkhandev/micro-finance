"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[165],{1945:(t,e,a)=>{a.d(e,{Z:()=>s});var i=a(3645),n=a.n(i)()((function(t){return t[1]}));n.push([t.id,".btn.btn-sm.btn-outline-info.btn-text{line-height:1}",""]);const s=n},7823:(t,e,a)=>{a.d(e,{Z:()=>g});var i=a(821);var n=(t,e)=>{const a=t.__vccOpts||t;for(const[t,i]of e)a[t]=i;return a};const s={inheritAttrs:!1,emits:["pagination-change-page"],components:{RenderlessLaravelVuePagination:{emits:["pagination-change-page"],props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},showDisabled:{type:Boolean,default:!1},size:{type:String,default:"default",validator:t=>-1!==["small","default","large"].indexOf(t)},align:{type:String,default:"left",validator:t=>-1!==["left","center","right"].indexOf(t)}},computed:{isApiResource(){return!!this.data.meta},currentPage(){return this.isApiResource?this.data.meta.current_page:this.data.current_page},firstPageUrl(){return this.isApiResource?this.data.links.first:null},from(){return this.isApiResource?this.data.meta.from:this.data.from},lastPage(){return this.isApiResource?this.data.meta.last_page:this.data.last_page},lastPageUrl(){return this.isApiResource?this.data.links.last:null},nextPageUrl(){return this.isApiResource?this.data.links.next:this.data.next_page_url},perPage(){return this.isApiResource?this.data.meta.per_page:this.data.per_page},prevPageUrl(){return this.isApiResource?this.data.links.prev:this.data.prev_page_url},to(){return this.isApiResource?this.data.meta.to:this.data.to},total(){return this.isApiResource?this.data.meta.total:this.data.total},pageRange(){if(-1===this.limit)return 0;if(0===this.limit)return this.lastPage;for(var t,e=this.currentPage,a=this.lastPage,i=this.limit,n=e-i,s=e+i+1,l=[],r=[],o=1;o<=a;o++)(1===o||o===a||o>=n&&o<s)&&l.push(o);return l.forEach((function(e){t&&(e-t==2?r.push(t+1):e-t!=1&&r.push("...")),r.push(e),t=e})),r}},methods:{previousPage(){this.selectPage(this.currentPage-1)},nextPage(){this.selectPage(this.currentPage+1)},selectPage(t){"..."!==t&&this.$emit("pagination-change-page",t)}},render(){return this.$slots.default({data:this.data,limit:this.limit,showDisabled:this.showDisabled,size:this.size,align:this.align,computed:{isApiResource:this.isApiResource,currentPage:this.currentPage,firstPageUrl:this.firstPageUrl,from:this.from,lastPage:this.lastPage,lastPageUrl:this.lastPageUrl,nextPageUrl:this.nextPageUrl,perPage:this.perPage,prevPageUrl:this.prevPageUrl,to:this.to,total:this.total,pageRange:this.pageRange},prevButtonEvents:{click:t=>{t.preventDefault(),this.previousPage()}},nextButtonEvents:{click:t=>{t.preventDefault(),this.nextPage()}},pageButtonEvents:t=>({click:e=>{e.preventDefault(),this.selectPage(t)}})})}}},props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},showDisabled:{type:Boolean,default:!1},size:{type:String,default:"default",validator:t=>-1!==["small","default","large"].indexOf(t)},align:{type:String,default:"left",validator:t=>-1!==["left","center","right"].indexOf(t)}},methods:{onPaginationChangePage(t){this.$emit("pagination-change-page",t)}}},l=["tabindex"],r=(0,i._)("span",{"aria-hidden":"true"},"«",-1),o=(0,i._)("span",{class:"sr-only"},"Previous",-1),c={key:0,class:"sr-only"},u=["tabindex"],p=(0,i._)("span",{"aria-hidden":"true"},"»",-1),d=(0,i._)("span",{class:"sr-only"},"Next",-1);var g=n(s,[["render",function(t,e,a,n,s,g){const h=(0,i.up)("RenderlessLaravelVuePagination");return(0,i.wg)(),(0,i.j4)(h,{data:a.data,limit:a.limit,"show-disabled":a.showDisabled,size:a.size,align:a.align,onPaginationChangePage:g.onPaginationChangePage},{default:(0,i.w5)((e=>[e.computed.total>e.computed.perPage?((0,i.wg)(),(0,i.iD)("ul",(0,i.dG)({key:0},t.$attrs,{class:["pagination",{"pagination-sm":"small"==e.size,"pagination-lg":"large"==e.size,"justify-content-center":"center"==e.align,"justify-content-end":"right"==e.align}]}),[e.computed.prevPageUrl||e.showDisabled?((0,i.wg)(),(0,i.iD)("li",{key:0,class:(0,i.C_)(["page-item pagination-prev-nav",{disabled:!e.computed.prevPageUrl}])},[(0,i._)("a",(0,i.dG)({class:"page-link",href:"#","aria-label":"Previous",tabindex:!e.computed.prevPageUrl&&-1},(0,i.mx)(e.prevButtonEvents)),[(0,i.WI)(t.$slots,"prev-nav",{},(()=>[r,o]))],16,l)],2)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.computed.pageRange,((t,a)=>((0,i.wg)(),(0,i.iD)("li",{class:(0,i.C_)(["page-item pagination-page-nav",{active:t==e.computed.currentPage}]),key:a},[(0,i._)("a",(0,i.dG)({class:"page-link",href:"#"},(0,i.mx)(e.pageButtonEvents(t))),[(0,i.Uk)((0,i.zw)(t)+" ",1),t==e.computed.currentPage?((0,i.wg)(),(0,i.iD)("span",c,"(current)")):(0,i.kq)("",!0)],16)],2)))),128)),e.computed.nextPageUrl||e.showDisabled?((0,i.wg)(),(0,i.iD)("li",{key:1,class:(0,i.C_)(["page-item pagination-next-nav",{disabled:!e.computed.nextPageUrl}])},[(0,i._)("a",(0,i.dG)({class:"page-link",href:"#","aria-label":"Next",tabindex:!e.computed.nextPageUrl&&-1},(0,i.mx)(e.nextButtonEvents)),[(0,i.WI)(t.$slots,"next-nav",{},(()=>[p,d]))],16,u)],2)):(0,i.kq)("",!0)],16)):(0,i.kq)("",!0)])),_:3},8,["data","limit","show-disabled","size","align","onPaginationChangePage"])}]])},9165:(t,e,a)=>{a.r(e),a.d(e,{default:()=>et});var i=a(821),n={class:"row"},s={class:"col-md-12"},l={class:"mb-4"},r={key:0,class:"row"},o={class:"col-md-4"},c={class:"widget widget-primary animate__animated animate__fadeIn"},u=(0,i._)("div",{class:"widget-header"},[(0,i._)("h5",{class:"title"},"Total DPS"),(0,i._)("span",null,[(0,i._)("i",{class:"bx bx-group"})])],-1),p={class:"widget-body"},d={class:"col-md-4"},g={class:"widget widget-success animate__animated animate__fadeIn"},h=(0,i._)("div",{class:"widget-header"},[(0,i._)("h5",{class:"title"},"Total Collection"),(0,i._)("span",null,[(0,i._)("i",{class:"bx bx-group"})])],-1),m={class:"widget-body"},_={class:"col-md-4"},f={class:"widget widget-danger animate__animated animate__fadeIn"},b=(0,i._)("div",{class:"widget-header"},[(0,i._)("h5",{class:"title"},"Due Amount"),(0,i._)("span",null,[(0,i._)("i",{class:"bx bx-group"})])],-1),w={class:"widget-body"},v={class:"box"},P={class:"box-header"},y=(0,i._)("div",{class:"box-title"},[(0,i._)("h4",null,"DPS application list")],-1),x={class:"box-action"},k={class:"search-form"},A={class:"search-group"},D=[(0,i._)("i",{class:"bx bx-search-alt"},null,-1)],z=(0,i.Uk)("New DPS Application"),C={class:"box-body"},O={key:0,class:"pagination"},U={class:"pagination-data"},R={class:"table"},S=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"#"),(0,i._)("th",null,"Acc. No"),(0,i._)("th",null,"Member"),(0,i._)("th",null,"Photo"),(0,i._)("th",null,"Deposit"),(0,i._)("th",null,"Year"),(0,i._)("th",null,"Total Deposit"),(0,i._)("th",null,"Total Getting"),(0,i._)("th",null,"Profit"),(0,i._)("th",null,"Created at"),(0,i._)("th")])],-1),j=["src"],B=(0,i._)("br",null,null,-1),W={class:"action"},E=(0,i._)("i",{class:"bx bx-edit"},null,-1),F=["onClick"],$=[(0,i._)("i",{class:"bx bx-trash"},null,-1)],q={key:1},N=[(0,i._)("td",{colspan:"9"},"No application found",-1)],T={class:"box-footer text-right"},I={key:0,class:"pagination"},Z={class:"pagination-data"},G=(0,i._)("div",{class:"col-md-4"},null,-1);var Y=a(8637),M=a(4118);function V(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function H(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?V(Object(a),!0).forEach((function(e){K(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function K(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const L={name:"Index",components:{Pagination:a(7823).Z},mixins:[M.B],computed:H(H({},(0,Y.Se)({applications:"dps/applications",dps_total:"dps/statistics"})),{},{filterApplications:function(){return this.applications}}),methods:H(H({},(0,Y.nv)({getApplications:"dps/getApplications",getTotalDps:"dps/getDpsStatistics",deleteApplication:"dps/deleteApplication"})),{},{deleteConfirm:function(t){var e=this;this.hasPermission("delete_application")?this.$swal({title:"Really want to delete!",text:"Are you sure? You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#5430d6",confirmButtonText:"Yes, Delete it!",cancelButtonColor:"#c82333"}).then((function(a){a.isConfirmed&&e.deleteApplication(t).then((function(){e.error_message?e.error=e.error_message:e.$swal({icon:"success",title:"Congratulation!",text:"User has been deleted successfully"})}))})):this.message403()},withdrawApplication:function(){this.$swal({icon:"warning",title:"Coming Soon!",text:"Withdrawal feature is under-construction, it will release in shortly"})},getResults:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.getApplications(t)}}),mounted:function(){this.getResults(1),this.getTotalDps()}};var J=a(2446),Q=a.n(J),X=a(1945),tt={insert:"head",singleton:!1};Q()(X.Z,tt);X.Z.locals;const et=(0,a(3744).Z)(L,[["render",function(t,e,a,Y,M,V){var H=(0,i.up)("router-link"),K=(0,i.up)("Pagination");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",s,[(0,i._)("div",l,[t.dps_total?((0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",o,[(0,i._)("div",c,[u,(0,i._)("div",p,[(0,i.Wm)(H,{to:"/members"},{default:(0,i.w5)((function(){return[(0,i._)("h3",null,(0,i.zw)(t.numberFormat(t.dps_total.total_amounts,2)),1)]})),_:1})])])]),(0,i._)("div",d,[(0,i._)("div",g,[h,(0,i._)("div",m,[(0,i.Wm)(H,{to:"/members"},{default:(0,i.w5)((function(){return[(0,i._)("h3",null,(0,i.zw)(t.numberFormat(t.dps_total.collections,2)),1)]})),_:1})])])]),(0,i._)("div",_,[(0,i._)("div",f,[b,(0,i._)("div",w,[(0,i.Wm)(H,{to:"/members"},{default:(0,i.w5)((function(){return[(0,i._)("h3",null,(0,i.zw)(t.numberFormat(t.dps_total.dues,2)),1)]})),_:1})])])])])):(0,i.kq)("",!0)]),(0,i._)("div",v,[(0,i._)("div",P,[y,(0,i._)("div",x,[(0,i._)("div",{class:(0,i.C_)(["search",t.is_open_search?"open-search":""])},[(0,i._)("div",k,[(0,i._)("div",A,[(0,i.wy)((0,i._)("input",{type:"search","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.search_key=e}),placeholder:"Search keyword",class:"form-control"},null,512),[[i.nr,t.search_key]])])]),(0,i._)("button",{type:"button",class:"btn btn-secondary btn-sm focus:shadow-none",onClick:e[1]||(e[1]=function(e){return t.openSearch()})},D)],2),(0,i.Wm)(H,{to:{name:"CreateDPS"},class:"btn btn-sm btn-primary"},{default:(0,i.w5)((function(){return[z]})),_:1})])]),(0,i._)("div",C,[V.filterApplications?((0,i.wg)(),(0,i.iD)("div",O,[(0,i._)("p",U," Page "+(0,i.zw)(V.filterApplications.current_page)+" Showing "+(0,i.zw)(V.filterApplications.from)+" to "+(0,i.zw)(V.filterApplications.to)+" of "+(0,i.zw)(V.filterApplications.total)+" Data ",1),(0,i.Wm)(K,{data:V.filterApplications,onPaginationChangePage:V.getResults,limit:20},null,8,["data","onPaginationChangePage"])])):(0,i.kq)("",!0),(0,i._)("table",R,[S,(0,i._)("tbody",null,[V.filterApplications&&V.filterApplications.data?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(V.filterApplications.data,(function(a,n){return(0,i.wg)(),(0,i.iD)("tr",{key:a.id},[(0,i._)("td",null,(0,i.zw)(V.filterApplications.from+n),1),(0,i._)("td",null,(0,i.zw)(a.member.account_no),1),(0,i._)("td",null,[(0,i.Wm)(H,{to:{name:"MemberShow",params:{member_id:a.member_id}},class:"text-primary"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(a.member.name),1)]})),_:2},1032,["to"])]),(0,i._)("td",null,[(0,i._)("img",{src:a.member?a.member.photo:"",alt:"",class:"w-8 rounded"},null,8,j)]),(0,i._)("td",null,[(0,i.Uk)((0,i.zw)(t.numberFormat(a.dps_amount,2))+" ",1),B,(0,i.Uk)(" ("+(0,i.zw)(t.ucFirst(a.dps_type))+")",1)]),(0,i._)("td",null,(0,i.zw)(a.year),1),(0,i._)("td",null,(0,i.zw)(t.numberFormat(a.total_amount,2)),1),(0,i._)("td",null,(0,i.zw)(t.numberFormat(a.receiving,2)),1),(0,i._)("td",null,(0,i.zw)(t.numberFormat(a.profit,2)),1),(0,i._)("td",null,(0,i.zw)(t.userFormattedDate(a.created_at)),1),(0,i._)("td",null,[(0,i._)("div",W,[(0,i._)("a",{href:"#",class:"btn btn-sm btn-outline-info btn-text",onClick:e[2]||(e[2]=(0,i.iM)((function(){return V.withdrawApplication&&V.withdrawApplication.apply(V,arguments)}),["prevent"]))},"Withdraw"),(0,i.Wm)(H,{to:{name:"EditDPSApplication",params:{application_id:a.id}},class:"btn btn-outline-warning btn-sm"},{default:(0,i.w5)((function(){return[E]})),_:2},1032,["to"]),(0,i._)("a",{href:"#",class:"btn btn-outline-danger btn-sm",onClick:(0,i.iM)((function(t){return V.deleteConfirm(a.id)}),["prevent"])},$,8,F)])])])})),128)):((0,i.wg)(),(0,i.iD)("tr",q,N))])])]),(0,i._)("div",T,[V.filterApplications?((0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("p",Z," Page "+(0,i.zw)(V.filterApplications.current_page)+" Showing "+(0,i.zw)(V.filterApplications.from)+" to "+(0,i.zw)(V.filterApplications.to)+" of "+(0,i.zw)(V.filterApplications.total)+" Data ",1),(0,i.Wm)(K,{data:V.filterApplications,onPaginationChangePage:V.getResults,limit:20},null,8,["data","onPaginationChangePage"])])):(0,i.kq)("",!0)])])]),G])}]])}}]);