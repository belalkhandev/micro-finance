"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9543],{3064:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(3645),n=a.n(i)()((function(e){return e[1]}));n.push([e.id,".btn.btn-sm.btn-outline-info.btn-text{line-height:1}.member-select .member-list{z-index:999}.widget .widget-body p{color:#000}",""]);const s=n},7823:(e,t,a)=>{a.d(t,{Z:()=>g});var i=a(821);var n=(e,t)=>{const a=e.__vccOpts||e;for(const[e,i]of t)a[e]=i;return a};const s={inheritAttrs:!1,emits:["pagination-change-page"],components:{RenderlessLaravelVuePagination:{emits:["pagination-change-page"],props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},showDisabled:{type:Boolean,default:!1},size:{type:String,default:"default",validator:e=>-1!==["small","default","large"].indexOf(e)},align:{type:String,default:"left",validator:e=>-1!==["left","center","right"].indexOf(e)}},computed:{isApiResource(){return!!this.data.meta},currentPage(){return this.isApiResource?this.data.meta.current_page:this.data.current_page},firstPageUrl(){return this.isApiResource?this.data.links.first:null},from(){return this.isApiResource?this.data.meta.from:this.data.from},lastPage(){return this.isApiResource?this.data.meta.last_page:this.data.last_page},lastPageUrl(){return this.isApiResource?this.data.links.last:null},nextPageUrl(){return this.isApiResource?this.data.links.next:this.data.next_page_url},perPage(){return this.isApiResource?this.data.meta.per_page:this.data.per_page},prevPageUrl(){return this.isApiResource?this.data.links.prev:this.data.prev_page_url},to(){return this.isApiResource?this.data.meta.to:this.data.to},total(){return this.isApiResource?this.data.meta.total:this.data.total},pageRange(){if(-1===this.limit)return 0;if(0===this.limit)return this.lastPage;for(var e,t=this.currentPage,a=this.lastPage,i=this.limit,n=t-i,s=t+i+1,r=[],o=[],l=1;l<=a;l++)(1===l||l===a||l>=n&&l<s)&&r.push(l);return r.forEach((function(t){e&&(t-e==2?o.push(e+1):t-e!=1&&o.push("...")),o.push(t),e=t})),o}},methods:{previousPage(){this.selectPage(this.currentPage-1)},nextPage(){this.selectPage(this.currentPage+1)},selectPage(e){"..."!==e&&this.$emit("pagination-change-page",e)}},render(){return this.$slots.default({data:this.data,limit:this.limit,showDisabled:this.showDisabled,size:this.size,align:this.align,computed:{isApiResource:this.isApiResource,currentPage:this.currentPage,firstPageUrl:this.firstPageUrl,from:this.from,lastPage:this.lastPage,lastPageUrl:this.lastPageUrl,nextPageUrl:this.nextPageUrl,perPage:this.perPage,prevPageUrl:this.prevPageUrl,to:this.to,total:this.total,pageRange:this.pageRange},prevButtonEvents:{click:e=>{e.preventDefault(),this.previousPage()}},nextButtonEvents:{click:e=>{e.preventDefault(),this.nextPage()}},pageButtonEvents:e=>({click:t=>{t.preventDefault(),this.selectPage(e)}})})}}},props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},showDisabled:{type:Boolean,default:!1},size:{type:String,default:"default",validator:e=>-1!==["small","default","large"].indexOf(e)},align:{type:String,default:"left",validator:e=>-1!==["left","center","right"].indexOf(e)}},methods:{onPaginationChangePage(e){this.$emit("pagination-change-page",e)}}},r=["tabindex"],o=(0,i._)("span",{"aria-hidden":"true"},"«",-1),l=(0,i._)("span",{class:"sr-only"},"Previous",-1),c={key:0,class:"sr-only"},d=["tabindex"],p=(0,i._)("span",{"aria-hidden":"true"},"»",-1),u=(0,i._)("span",{class:"sr-only"},"Next",-1);var g=n(s,[["render",function(e,t,a,n,s,g){const h=(0,i.up)("RenderlessLaravelVuePagination");return(0,i.wg)(),(0,i.j4)(h,{data:a.data,limit:a.limit,"show-disabled":a.showDisabled,size:a.size,align:a.align,onPaginationChangePage:g.onPaginationChangePage},{default:(0,i.w5)((t=>[t.computed.total>t.computed.perPage?((0,i.wg)(),(0,i.iD)("ul",(0,i.dG)({key:0},e.$attrs,{class:["pagination",{"pagination-sm":"small"==t.size,"pagination-lg":"large"==t.size,"justify-content-center":"center"==t.align,"justify-content-end":"right"==t.align}]}),[t.computed.prevPageUrl||t.showDisabled?((0,i.wg)(),(0,i.iD)("li",{key:0,class:(0,i.C_)(["page-item pagination-prev-nav",{disabled:!t.computed.prevPageUrl}])},[(0,i._)("a",(0,i.dG)({class:"page-link",href:"#","aria-label":"Previous",tabindex:!t.computed.prevPageUrl&&-1},(0,i.mx)(t.prevButtonEvents)),[(0,i.WI)(e.$slots,"prev-nav",{},(()=>[o,l]))],16,r)],2)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.computed.pageRange,((e,a)=>((0,i.wg)(),(0,i.iD)("li",{class:(0,i.C_)(["page-item pagination-page-nav",{active:e==t.computed.currentPage}]),key:a},[(0,i._)("a",(0,i.dG)({class:"page-link",href:"#"},(0,i.mx)(t.pageButtonEvents(e))),[(0,i.Uk)((0,i.zw)(e)+" ",1),e==t.computed.currentPage?((0,i.wg)(),(0,i.iD)("span",c,"(current)")):(0,i.kq)("",!0)],16)],2)))),128)),t.computed.nextPageUrl||t.showDisabled?((0,i.wg)(),(0,i.iD)("li",{key:1,class:(0,i.C_)(["page-item pagination-next-nav",{disabled:!t.computed.nextPageUrl}])},[(0,i._)("a",(0,i.dG)({class:"page-link",href:"#","aria-label":"Next",tabindex:!t.computed.nextPageUrl&&-1},(0,i.mx)(t.nextButtonEvents)),[(0,i.WI)(e.$slots,"next-nav",{},(()=>[p,u]))],16,d)],2)):(0,i.kq)("",!0)],16)):(0,i.kq)("",!0)])),_:3},8,["data","limit","show-disabled","size","align","onPaginationChangePage"])}]])},9543:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var i=a(821),n={key:0,class:"widget widget-secondary mb-4"},s=(0,i._)("div",{class:"widget-header"},[(0,i._)("h5",{class:"title"},"Filtering"),(0,i._)("span",null,[(0,i._)("i",{class:"bx bx-filter-alt"})])],-1),r={class:"widget-body"},o={class:"row"},l={key:0,class:"col-md-3"},c=(0,i._)("option",{value:""},"Select expense category",-1),d=["value"],p={class:"col-md-3"},u={class:"col-md-3"},g={class:"col-md-1"},h=(0,i._)("button",{type:"submit",class:"btn btn-sm btn-success"},"Filter",-1),f={class:"row"},m={class:"col-md-12"},_={class:"box"},b={class:"box-header"},v=(0,i._)("div",{class:"box-title"},[(0,i._)("h4",null,"Expenses reports")],-1),x={class:"box-action"},y={class:"box-body"},P={class:"table"},w=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Sl"),(0,i._)("th",{class:"text-left"},"Expense Date"),(0,i._)("th",{class:"text-left"},"Title"),(0,i._)("th",{class:"text-left"},"Category"),(0,i._)("th",{class:"text-left"},"Type"),(0,i._)("th",{class:"text-left"},"Amount")])],-1),k={class:"box-footer text-right"},D={key:0,class:"pagination"},E={class:"pagination-data"},R=(0,i._)("div",{class:"col-md-4"},null,-1);var O=a(8637);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){U(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const F={name:"SavingsTransactionsReport",components:{Pagination:a(7823).Z},data:function(){return{is_filter_pagination:!1,form:{from_date:"",to_date:"",category_id:"",status:""},from_date:"",to_date:"",member_input_text:"",search_key:"",isOpen:!1,openFilter:!1}},computed:z(z({},(0,O.Se)({expenses:"expense/expenses",categories:"expenseCategory/expense_categories"})),{},{filterExpenses:function(){return this.expenses},fetchCategories:function(){return this.categories}}),methods:z(z({},(0,O.nv)({getExpenses:"expense/getExpenses",getExpenseCategories:"expenseCategory/getExpenseCategories",getFilteredExpenses:"expense/filterExpenses"})),{},{getResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.is_filter_pagination){var t=this.form;t.page=e,this.getFilteredExpenses(t)}else this.getExpenses(e)},filterSubmit:function(){this.is_filter_pagination=!0,this.getFilteredExpenses(this.form)},clearFilterForm:function(){this.is_filter_pagination=!1,this.getResults(1),this.form.category_id="",this.form.from_date="",this.form.to_date="",this.form.status="",this.member_input_text="",this.from_date="",this.to_date=""},downloadSavingsApplicationsReport:function(){var e="";this.form.category_id&&(e+="?category_id=".concat(this.form.category_id)),this.form.from_date&&(e+="".concat(e?"&":"?","from_date=").concat(this.form.from_date)),this.form.to_date&&(e+="".concat(e?"&":"?","to_date=").concat(this.form.to_date)),window.open("".concat(window.location.origin,"/download/expenses").concat(e))}}),mounted:function(){this.getResults(1),this.getExpenseCategories()},watch:{from_date:function(){var e=this.datePickerFormat(this.from_date);this.form.from_date="Invalid date"!=e?e:""},to_date:function(){var e=this.datePickerFormat(this.to_date);this.form.to_date="Invalid date"!=e?e:""}}};var A=a(2446),S=a.n(A),j=a(3064),q={insert:"head",singleton:!1};S()(j.Z,q);j.Z.locals;const V=(0,a(3744).Z)(F,[["render",function(e,t,a,O,C,z){var U=(0,i.up)("Datepicker"),F=(0,i.up)("Pagination");return(0,i.wg)(),(0,i.iD)(i.HY,null,[C.openFilter?((0,i.wg)(),(0,i.iD)("div",n,[s,(0,i._)("div",r,[(0,i._)("form",{onSubmit:t[4]||(t[4]=(0,i.iM)((function(){return z.filterSubmit&&z.filterSubmit.apply(z,arguments)}),["prevent"]))},[(0,i._)("div",o,[z.fetchCategories?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return C.form.category_id=e}),class:"form-control"},[c,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(z.fetchCategories,(function(e,t){return(0,i.wg)(),(0,i.iD)("option",{value:e.id},(0,i.zw)(e.name),9,d)})),256))],512),[[i.bM,C.form.category_id]])])):(0,i.kq)("",!0),(0,i._)("div",p,[(0,i.Wm)(U,{modelValue:C.from_date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return C.from_date=e}),format:"dd-MM-yyyy",enableTimePicker:!1,autoApply:"",placeholder:"Select From Date"},null,8,["modelValue"])]),(0,i._)("div",u,[(0,i.Wm)(U,{modelValue:C.to_date,"onUpdate:modelValue":t[2]||(t[2]=function(e){return C.to_date=e}),format:"dd-MM-yyyy",enableTimePicker:!1,autoApply:"",placeholder:"Select To Date"},null,8,["modelValue"])]),(0,i._)("div",g,[h,C.is_filter_pagination?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",onClick:t[3]||(t[3]=(0,i.iM)((function(){return z.clearFilterForm&&z.clearFilterForm.apply(z,arguments)}),["prevent"])),class:"btn btn-sm btn-danger ml-2"},"Clear")):(0,i.kq)("",!0)])])],32)])])):(0,i.kq)("",!0),(0,i._)("div",f,[(0,i._)("div",m,[(0,i._)("div",_,[(0,i._)("div",b,[v,(0,i._)("div",x,[(0,i._)("button",{type:"button",class:"btn btn-sm btn-secondary",onClick:t[5]||(t[5]=function(e){return C.openFilter=!C.openFilter})},"Filter"),(0,i._)("button",{class:"btn btn-sm btn-primary",onClick:t[6]||(t[6]=function(){return z.downloadSavingsApplicationsReport&&z.downloadSavingsApplicationsReport.apply(z,arguments)})},"Download")])]),(0,i._)("div",y,[(0,i._)("table",P,[w,(0,i._)("tbody",null,[z.filterExpenses&&z.filterExpenses.data?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(z.filterExpenses.data,(function(t,a){return(0,i.wg)(),(0,i.iD)("tr",{key:a},[(0,i._)("td",null,(0,i.zw)(z.filterExpenses.from+a),1),(0,i._)("td",null,(0,i.zw)(e.userFormattedDate(t.expense_date)),1),(0,i._)("td",null,(0,i.zw)(t.title),1),(0,i._)("td",null,(0,i.zw)(t.category_name),1),(0,i._)("td",null,(0,i.zw)(t.expense_type),1),(0,i._)("td",null,(0,i.zw)(e.numberFormat(t.amount)),1)])})),128)):(0,i.kq)("",!0)])])]),(0,i._)("div",k,[z.filterExpenses?((0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("p",E," Page "+(0,i.zw)(z.filterExpenses.current_page)+" Showing "+(0,i.zw)(z.filterExpenses.from)+" to "+(0,i.zw)(z.filterExpenses.to)+" of "+(0,i.zw)(z.filterExpenses.total)+" Data ",1),(0,i.Wm)(F,{data:z.filterExpenses,onPaginationChangePage:z.getResults,limit:6},null,8,["data","onPaginationChangePage"])])):(0,i.kq)("",!0)])])]),R])],64)}]])}}]);